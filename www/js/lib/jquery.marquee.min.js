!function(e){e.fn.marquee=function(t){return this.each(function(){var i,s,o,u,a,n=e.extend({},e.fn.marquee.defaults,t),r=e(this),f=3,l="animation-play-state",c=!1,h=function(e,t,n){for(var r=["webkit","moz","MS","o",""],i=0;i<r.length;i++)r[i]||(t=t.toLowerCase()),e.addEventListener(r[i]+t,n,!1)},p=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]);return t.push(),"{"+t.join(",")+"}"},d=function(){r.timer=setTimeout(M,n.delayBeforeStart)},v={pause:function(){c&&n.allowCss3Support?i.css(l,"paused"):e.fn.pause&&i.pause(),r.data("runningStatus","paused"),r.trigger("paused")},resume:function(){c&&n.allowCss3Support?i.css(l,"running"):e.fn.resume&&i.resume(),r.data("runningStatus","resumed"),r.trigger("resumed")},toggle:function(){v["resumed"==r.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(r.timer),r.find("*").andSelf().unbind(),r.html(r.find(".js-marquee:first").html())}};if("string"==typeof t)return void(e.isFunction(v[t])&&(i||(i=r.find(".js-marquee-wrapper")),r.data("css3AnimationIsSupported")===!0&&(c=!0),v[t]()));var g;e.each(n,function(e){if(g=r.attr("data-"+e),"undefined"!=typeof g){switch(g){case"true":g=!0;break;case"false":g=!1}n[e]=g}}),n.duration=n.speed||n.duration,u="up"==n.direction||"down"==n.direction,n.gap=n.duplicated?n.gap:0,r.wrapInner('<div class="js-marquee"></div>');var y=r.find(".js-marquee").css({"margin-right":n.gap,"float":"left"});if(n.duplicated&&y.clone(!0).appendTo(r),r.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),i=r.find(".js-marquee-wrapper"),u){var b=r.height();i.removeAttr("style"),r.height(b),r.find(".js-marquee").css({"float":"none","margin-bottom":n.gap,"margin-right":0}),n.duplicated&&r.find(".js-marquee:last").css({"margin-bottom":0});var w=r.find(".js-marquee:first").height()+n.gap;n.duration=(parseInt(w,10)+parseInt(b,10))/parseInt(b,10)*n.duration}else a=r.find(".js-marquee:first").width()+n.gap,s=r.width(),n.duration=(parseInt(a,10)+parseInt(s,10))/parseInt(s,10)*n.duration;if(n.duplicated&&(n.duration=n.duration/2),n.allowCss3Support){var E=document.body||document.createElement("div"),S="marqueeAnimation-"+Math.floor(1e7*Math.random()),x="Webkit Moz O ms Khtml".split(" "),T="animation",N="",C="";if(E.style.animation&&(C="@keyframes "+S+" ",c=!0),c===!1)for(var k=0;k<x.length;k++)if(void 0!==E.style[x[k]+"AnimationName"]){var L="-"+x[k].toLowerCase()+"-";T=L+T,l=L+l,C="@"+L+"keyframes "+S+" ",c=!0;break}c&&(N=S+" "+n.duration/1e3+"s "+n.delayBeforeStart/1e3+"s infinite "+n.css3easing,r.data("css3AnimationIsSupported",!0))}var A=function(){i.css("margin-top","up"==n.direction?b+"px":"-"+w+"px")},O=function(){i.css("margin-left","left"==n.direction?s+"px":"-"+a+"px")};n.duplicated?(u?i.css("margin-top","up"==n.direction?b:"-"+(2*w-n.gap)+"px"):i.css("margin-left","left"==n.direction?s+"px":"-"+(2*a-n.gap)+"px"),f=1):u?A():O();var M=function(){if(n.duplicated&&(1===f?(n._originalDuration=n.duration,n.duration=u?"up"==n.direction?n.duration+b/(w/n.duration):2*n.duration:"left"==n.direction?n.duration+s/(a/n.duration):2*n.duration,N&&(N=S+" "+n.duration/1e3+"s "+n.delayBeforeStart/1e3+"s "+n.css3easing),f++):2===f&&(n.duration=n._originalDuration,N&&(S+="0",C=e.trim(C)+"0 ",N=S+" "+n.duration/1e3+"s 0s infinite "+n.css3easing),f++)),u?n.duplicated?(f>2&&i.css("margin-top","up"==n.direction?0:"-"+w+"px"),o={"margin-top":"up"==n.direction?"-"+w+"px":0}):(A(),o={"margin-top":"up"==n.direction?"-"+i.height()+"px":b+"px"}):n.duplicated?(f>2&&i.css("margin-left","left"==n.direction?0:"-"+a+"px"),o={"margin-left":"left"==n.direction?"-"+a+"px":0}):(O(),o={"margin-left":"left"==n.direction?"-"+a+"px":s+"px"}),r.trigger("beforeStarting"),c){i.css(T,N);var t=C+" { 100%  "+p(o)+"}",l=e("style");0!==l.length?l.filter(":last").append(t):e("head").append("<style>"+t+"</style>"),h(i[0],"AnimationIteration",function(){r.trigger("finished")}),h(i[0],"AnimationEnd",function(){M(),r.trigger("finished")})}else i.animate(o,n.duration,n.easing,function(){r.trigger("finished"),n.pauseOnCycle?d():M()});r.data("runningStatus","resumed")};r.bind("pause",v.pause),r.bind("resume",v.resume),n.pauseOnHover&&r.bind("mouseenter mouseleave",v.toggle),c&&n.allowCss3Support?M():d()})},e.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1}}(jQuery);